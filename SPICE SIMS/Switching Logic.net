* E:\Outpost Vault\Outpost Door\Outpost Quick Access\Projects\1) Major Projects\Work for SOAR\PMB REV 2\Code\SOAR_PMB_Rev_2\SPICE SIMS\Switching Logic.asc
* Generated by LTspice 24.1.4 for Windows.
V§UMBILICAL N035 0 PULSE(0 48 0 10m 4m 200m 5 1)
V§BATT_1 N034 0 PULSE(0 16.8 0 10m 10m 500m 5 1)
V§BATT_2 N033 0 PULSE(0 16.8 0 10m 100m 10 11 1)
R1 UMBILICAL N032 10000
R2 N032 0 1250
C2 Umbilical_comparator 0 100n
A7 BATT_2_comparator LOGIC_POWER 0 0 0 0 N050 0 SCHMITT Trise=1u, Vhigh = 5, Vt = 0.1, Vh = 0.05
A8 BATT_1_comparator LOGIC_POWER 0 0 0 N049 N046 0 SCHMITT Trise=1u, Vhigh = 5, Vt = 0.1, Vh = 0.05
A9 Umbilical_comparator LOGIC_POWER 0 0 0 N045 Umbilical_gate_control_logic_output 0 SCHMITT Trise=20u, Vhigh = 5, Vt = 0.05, Vh = 0.075, Td = 5u
R8 N032 Umbilical_comparator 1000
B§UMBILICAL_Noise N027 N035 V=white(2e4*time) / 13
BATT_1_Noise N028 N034 V=white(2e4*time) / 13
BATT_2_Noise N029 N033 V=white(2e4*time) / 13
R3 BATT_1 N036 10000
R4 N036 0 4500
R6 N029 N040 10000
R12 N040 0 4500
C7 N041 0 1n
C8 N039 0 4.7µ Rser=1.5m
X§U1 LDO_POWER N039 LDO_POWER N041 N039 0 ADM7170-5.0
C11 BATT_1_comparator 0 100n
R32 N036 BATT_1_comparator 1000
C12 BATT_2_comparator 0 100n
R33 N040 BATT_2_comparator 1000
D4 N027 LDO_POWER MMSD4148
A12 UMBILICAL OUTPUT_RAIL 0 0 0 0 N014 0 SCHMITT Trise=1u, Vhigh = 5, Vt = 0.05, Vh = 0.075, Td = 10n
A14 BATT_1 OUTPUT_RAIL 0 0 0 0 N019 0 SCHMITT Trise=1u, Vhigh = 5, Vt = 0.05, Vh = 0.075, Td = 10n
A16 BATT_2 OUTPUT_RAIL 0 0 0 0 N024 0 SCHMITT Trise=1u, Vhigh = 5, Vt = 0.05, Vh = 0.075, Td = 10n
M7 BATT_2_gate_control_signal N001 BATT_2_gate_control_signal_logic_output BATT_2_gate_control_signal_logic_output Si1555DL_P
M1 BATT_1_gate_control_signal N002 BATT_1_gate_control_logic_output BATT_1_gate_control_logic_output Si1555DL_P
M6 Umbilical_gate_control_signal N003 Umbilical_gate_control_logic_output Umbilical_gate_control_logic_output Si1555DL_P
C10 RESET_GATE 0 9n
R36 RESET_GATE N015 5000
R16 N021 N015 1000
R38 N008 N007 330
R34 N001 SIGNAL_MOSFET 330
R35 N002 SIGNAL_MOSFET 330
R37 N003 SIGNAL_MOSFET 330
R48 SIGNAL_MOSFET 0 10000
M11 SIGNAL_MOSFET N008 N005 N005 Si1555DL_P
R5 N007 0 33000
A11 N006 0 N010 0 0 N007 Deny_Signal 0 DFLOP Vhigh = 5
D5 RESET_GATE N021 D
C15 RESET_CLK 0 17n
R39 RESET_CLK N015 5000
R40 N016 N015 1000
D6 RESET_CLK N016 D
M14 N030 BATT_1_GATE N031 N031 Si7469DP
M15 OUTPUT_RAIL BATT_1_GATE N031 N031 Si7469DP
R42 N031 BATT_1_GATE 5000
C19 N031 BATT_1_GATE 10p
D7 BATT_1_GATE N031 EDZV13B
R43 BATT_1_GATE N037 650
M16 N037 N038 0 0 BSC047N08NS3
R44 BATT_1_GATE 0 10e5
R45 N038 BATT_1_gate_control_signal 220
R46 BATT_1_gate_control_signal 0 10000
C20 N038 0 10p
M10 N042 BATT_2_GATE N043 N043 Si7469DP
M12 OUTPUT_RAIL BATT_2_GATE N043 N043 Si7469DP
R19 N043 BATT_2_GATE 5000
C18 N043 BATT_2_GATE 10p
D3 BATT_2_GATE N043 EDZV13B
R20 BATT_2_GATE N047 650
M13 N047 N048 0 0 BSC047N08NS3
R41 BATT_2_GATE 0 10e5
R47 N048 BATT_2_gate_control_signal 110
R49 BATT_2_gate_control_signal 0 10000
C21 N048 0 10p
M17 N022 UMB_GATE N023 N023 Si7469DP
M18 OUTPUT_RAIL UMB_GATE N023 N023 Si7469DP
R50 N023 UMB_GATE 10000
C22 N023 UMB_GATE 10p
M19 N025 N026 0 0 BSC047N08NS3
R51 UMB_GATE 0 10e5
R52 N026 Umbilical_gate_control_signal 220
R53 Umbilical_gate_control_signal 0 10000
C23 N026 0 10p
D9 UMB_GATE N023 EDZV22B
R54 UMB_GATE N025 10000
R55 0 OUTPUT_RAIL 5
C1 N044 0 1µ
R7 N015 0 33000
R11 OUTPUT_RAIL N044 10
R§BATT2 N042 BATT_2 0.01
R§BATT1 N030 BATT_1 0.01
R§UMB N022 UMBILICAL 0.01
L1 UMBILICAL N027 20n
L2 BATT_1 N028 20n
L3 BATT_2 N029 20n
R9 N015 N018 0.001
R10 LOGIC_POWER N005 0.001
X§U2 N004 N009 N011 N012 N012 N006 SN74LVC1G08DBVR
X§U3 Umbilical_gate_control_signal N004 SN74LVC1G14DBVR
X§U4 BATT_1_gate_control_signal N009 SN74LVC1G14DBVR
X§U5 BATT_2_gate_control_signal N011 SN74LVC1G14DBVR
X§U7 N006 RESET_CLK NC_20 NC_21 NC_22 N010 SN74LVC1G332DBVR
X§U8 N013 N017 N020 NC_23 NC_24 N018 SN74LVC1G332DBVR
X§U9 Deny_Signal BATT_2_gate_control_signal_logic_output N024 N024 N024 N020 SN74LVC1G08DBVR
X§U10 Deny_Signal BATT_1_gate_control_logic_output N019 N019 N019 N017 SN74LVC1G08DBVR
X§U11 Deny_Signal Umbilical_gate_control_logic_output N014 N014 N014 N013 SN74LVC1G08DBVR
X§U6 RESET_GATE N012 SN74LVC1G14DBVR
X§U12 N045 N049 N050 N050 N050 BATT_2_gate_control_signal_logic_output SN74LVC1G08DBVR
X§U13 N045 N046 N046 N046 N046 BATT_1_gate_control_logic_output SN74LVC1G08DBVR
C13 LOGIC_POWER 0 1µ
C14 LOGIC_POWER 0 1µ
C16 LOGIC_POWER 0 1µ
C17 LOGIC_POWER 0 1µ
C24 LOGIC_POWER 0 1µ
C25 LOGIC_POWER 0 1µ
C26 LOGIC_POWER 0 0.1µ
C27 LOGIC_POWER 0 0.1µ
C28 LOGIC_POWER 0 0.1µ
C29 LOGIC_POWER 0 0.1µ
C30 LOGIC_POWER 0 0.1µ
C31 LOGIC_POWER 0 0.1µ
C3 LOGIC_POWER 0 1µ
C4 LOGIC_POWER 0 1µ
C37 LOGIC_POWER 0 0.1µ
C38 LOGIC_POWER 0 0.1µ
C5 LOGIC_POWER 0 1µ
C6 LOGIC_POWER 0 1µ
C9 LOGIC_POWER 0 1µ
C32 LOGIC_POWER 0 1µ
C39 LOGIC_POWER 0 0.1µ
C40 LOGIC_POWER 0 0.1µ
C41 LOGIC_POWER 0 0.1µ
C42 LOGIC_POWER 0 0.1µ
R13 LOGIC_POWER N039 0.001
D1 N028 LDO_POWER MMSD4148
D2 N029 LDO_POWER MMSD4148
.model D D
.lib C:\Users\reinz\AppData\Local\LTspice\lib\cmp\standard.dio
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\reinz\AppData\Local\LTspice\lib\cmp\standard.mos
.tran 800m
* Need to switch all the output signals to not invert the signal
* common switch debouncing values
* ORing diodes or or gate, this needs to supply some current to turn on the transmission gate so idk?
* Maybe use transmission gates here or something (single rail transmission gates)
* If the propogation delay is high, then the and gate wont read a fast switch over event, maybe add some sort of delay so down time is more easier to detect.
* Any decoupling capacitors here?
* Voltage divider so when the umbilical falls below 30V this switches off
* AND Gate power bypass caps
* OR Gate power bypass caps
* Schmitt inverter power bypass caps
.lib ADM7170-5.0.sub
.lib SN74LVC1G08DBVR.sub
.lib SN74LVC1G14DBVR.sub
.lib SN74LVC1G332DBVR.sub
.backanno
.end
