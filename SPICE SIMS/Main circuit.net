* D:\General Data\Files\Projects\1) Major Projects\SOAR PMB REV 2\Code\SOAR_PMB_Rev_2\SPICE SIMS\Main circuit.asc
* Generated by LTspice 24.1.4 for Windows.
V§UMBILICAL N020 0 PULSE(0 48 0 10m 2m 200m 500m 2) Rser=100m
V§BATT_1 N021 0 PULSE(0 16.8 20m 10m 10m 500m 750m 2) Rser=60m
V§BATT_2 N022 0 PULSE(0 16.8 20m 10m 10m 810m 11 1) Rser=60m
R1 Umbilical_priority_comparator UMBILICAL 68000
R2 Umbilical_priority_comparator 0 8500
B§UMBILICAL_Noise N001 N020 V=white(2e4*time) / 13
BATT_1_Noise N010 N021 V=white(2e4*time) / 13
BATT_2_Noise N015 N022 V=white(2e4*time) / 13
C7 N034 0 1n
C8 N029 0 4.7µ Rser=1.5m
X§U1 N026 N029 N026 N034 N029 0 ADM7170-5.0
C1 N006 0 {cap} Rser=0.1
C13 LOGIC_POWER 0 1µ
C14 LOGIC_POWER 0 1µ
C16 LOGIC_POWER 0 1µ
C17 LOGIC_POWER 0 1µ
C24 LOGIC_POWER 0 1µ
C26 LOGIC_POWER 0 0.1µ
C27 LOGIC_POWER 0 0.1µ
C28 LOGIC_POWER 0 0.1µ
C29 LOGIC_POWER 0 0.1µ
C30 LOGIC_POWER 0 0.1µ
C3 LOGIC_POWER 0 1µ
C37 LOGIC_POWER 0 0.1µ
C5 LOGIC_POWER 0 1µ
C6 LOGIC_POWER 0 1µ
C9 LOGIC_POWER 0 1µ
C32 LOGIC_POWER 0 1µ
C39 LOGIC_POWER 0 0.1µ
C40 LOGIC_POWER 0 0.1µ
C41 LOGIC_POWER 0 0.1µ
C42 LOGIC_POWER 0 0.1µ
R13 LOGIC_POWER N029 0.0001
X§U15 N011 N017 0 Umbilical_gate_control_logic_output Deny_signal UMBILICAL_gate_drive TGUP N004 N012 LTC7001
R11 N017 0 67857
M4 N003 UMBILICAL_gate_drive N004 N004 IPA180N10N3
M5 OUTPUT_RAIL UMBILICAL_gate_drive N004 N004 IPA180N10N3
D7 N011 N012 RF071MM2S
C20 N023 0 20n
R20 UMBILICAL_gate_drive N023 10
X§U14 N030 N037 0 BATT_1_gate_control_logic_output Deny_signal BATT_1_gate_drive N035 N028 N031 LTC7001
M2 N027 BATT_1_gate_drive N028 N028 IPA180N10N3
M3 OUTPUT_RAIL BATT_1_gate_drive N028 N028 IPA180N10N3
D3 N030 N031 RF071MM2S
C21 N039 0 20n
R17 BATT_1_gate_drive N039 10
X§U16 N052 N058 0 BATT_2_gate_control_signal_logic_output Deny_signal BATT_2_gate_drive N056 N048 N053 LTC7001
M8 N047 BATT_2_gate_drive N048 N048 IPA180N10N3
M9 OUTPUT_RAIL BATT_2_gate_drive N048 N048 IPA180N10N3
D8 N052 N053 RF071MM2S
R23 BATT_2_gate_drive N056 500
C23 N061 0 20n
R24 BATT_2_gate_drive N061 10
D9 0 N004 D
D10 0 N028 D
D11 0 N048 D
D12 0 Deny_signal UMZ5_1N
R14 N037 0 67857
D13 0 Deny_signal UMZ5_1N
R22 N058 0 67857
D14 0 Deny_signal UMZ5_1N
R27 N003 UMBILICAL 0.00001
R28 N027 BATT_1 0.00001
R29 N047 BATT_2 0.001
C33 LOGIC_POWER 0 1µ
C34 LOGIC_POWER 0 1µ
C35 LOGIC_POWER 0 1µ
C43 LOGIC_POWER 0 0.1µ
C44 LOGIC_POWER 0 0.1µ
C45 LOGIC_POWER 0 0.1µ
C36 N006 0 100n
C46 N006 0 100p
R30 N006 N005 0.00001
X§U17 Umbilical_turn_on BATT_1_turn_on BATT_2_turn_on BATT_2_turn_on BATT_2_turn_on N040 SN74LVC1G332DBVR
X§U2 5V N040 N040 RESET_GATE N041 NC_01 SN74LVC2G74DCUR
V2 5V 0 5
X§U18 Umbilical_priority_comparator LOGIC_POWER LOGIC_POWER N002 TLV1851DBVR
X§U20 BATT_1_priority_comparator LOGIC_POWER LOGIC_POWER N014 TLV1851DBVR
X§U23 BATT_2_priority_comparator LOGIC_POWER LOGIC_POWER N019 TLV1851DBVR
X§U26 N002 N007 SN74LVC1G14DBVR
X§U27 N014 N016 SN74LVC1G14DBVR
X§U12 N055 OUTPUT_RAIL_comparator LOGIC_POWER N050 TLV1851DBVR
X§U28 N060 OUTPUT_RAIL_comparator LOGIC_POWER N057 TLV1851DBVR
X§U30 N064 OUTPUT_RAIL_comparator LOGIC_POWER N062 TLV1851DBVR
R41 N045 0 10e4
R42 N045 N044 0.00001
X§U31 N043 N049 N051 NC_02 NC_03 N044 SN74LVC1G332DBVR
C51 N046 0 2.2n
R43 N046 N045 4700
X§U32 N046 RESET_GATE SN74LVC1G14DBVR
D5 BATT_2 N026 MMSD4148
D6 BATT_1 N026 MMSD4148
D15 UMBILICAL N026 MMSD4148
R7 BATT_1_priority_comparator 0 4778
R9 BATT_1 BATT_1_priority_comparator 10000
R3 UMBILICAL N054 68000
R4 N054 0 68000
R46 OUTPUT_RAIL N042 68000
R47 N042 0 68000
C11 N055 0 1n
R48 N054 N055 330
R6 BATT_1 N059 68000
R31 N059 0 68000
C47 N060 0 1n
R32 N059 N060 330
R34 BATT_2 N063 68000
R49 N063 0 68000
C52 N064 0 1n
R50 N063 N064 330
C53 OUTPUT_RAIL_comparator 0 1n
R51 N042 OUTPUT_RAIL_comparator 330
R52 N005 OUTPUT_RAIL 0.00001
C4 LOGIC_POWER 0 1µ
C38 LOGIC_POWER 0 1µ
C54 LOGIC_POWER 0 0.1µ
C55 LOGIC_POWER 0 0.1µ
C57 LOGIC_POWER 0 1µ
C58 LOGIC_POWER 0 1µ
C59 LOGIC_POWER 0 1µ
C60 LOGIC_POWER 0 0.1µ
C61 LOGIC_POWER 0 0.1µ
C62 LOGIC_POWER 0 0.1µ
C63 LOGIC_POWER 0 1µ
C64 LOGIC_POWER 0 0.1µ
C25 LOGIC_POWER 0 1µ
C31 LOGIC_POWER 0 1µ
C65 LOGIC_POWER 0 1µ
C66 LOGIC_POWER 0 1µ
C67 LOGIC_POWER 0 0.1µ
C68 LOGIC_POWER 0 0.1µ
C69 LOGIC_POWER 0 0.1µ
C70 LOGIC_POWER 0 0.1µ
C71 LOGIC_POWER 0 1µ
C72 LOGIC_POWER 0 1µ
C74 LOGIC_POWER 0 0.1µ
C75 LOGIC_POWER 0 0.1µ
X§U3 N041 Umbilical_gate_control_logic_output N050 N050 N050 N043 SN74LVC1G08DBVR
X§U7 N041 BATT_1_gate_control_logic_output N057 N057 N057 N049 SN74LVC1G08DBVR
X§U8 N041 BATT_2_gate_control_signal_logic_output N062 N062 N062 N051 SN74LVC1G08DBVR
X§U9 N007 N014 N014 N014 N014 N013 SN74LVC1G08DBVR
X§U10 N007 N016 N019 N019 N019 N018 SN74LVC1G08DBVR
R40 BATT_2_gate_control_signal_logic_output N018 0.00001
R53 BATT_1_gate_control_logic_output N013 0.00001
R54 Umbilical_gate_control_logic_output N002 0.00001
R§Deny_signal_current_sense Deny_signal N041 0.00001
R56 N030 LOGIC_POWER 0.000001
R57 N052 LOGIC_POWER 0.000001
R58 N011 LOGIC_POWER 0.000001
C22 N004 N012 1µ
C18 N028 N031 1µ
C49 N048 N053 1µ
B1 N005 0 I = 12.1
C19 N006 0 {cap} Rser=0.1
L1 UMBILICAL N001 {para_L}
L2 BATT_1 N010 {para_L}
L3 BATT_2 N015 {para_L}
R15 BATT_1_gate_drive N035 500
R5 BATT_2 BATT_2_priority_comparator 10000
R18 BATT_2_priority_comparator 0 4778
C2 Umbilical_priority_comparator 0 100n
C10 BATT_1_priority_comparator 0 10n
C15 BATT_2_priority_comparator 0 10n
R8 N008 0 187500
R19 N009 0 102k
X§U11 Umbilical_gate_control_logic_output 0 N008 N009 LOGIC_POWER Umbilical_turn_on LTC6993-1
R21 LOGIC_POWER N025 976k
X§U4 BATT_1_gate_control_logic_output 0 N024 N025 LOGIC_POWER BATT_1_turn_on LTC6993-1
X§U5 BATT_2_gate_control_signal_logic_output 0 N032 N033 LOGIC_POWER BATT_2_turn_on LTC6993-1
R25 N025 0 102k
R35 N033 0 102k
R36 LOGIC_POWER N033 976k
R33 LOGIC_POWER N009 976k
R12 N024 0 187500
R16 N032 0 187500
R10 UMBILICAL_gate_drive TGUP 15000
R26 N036 TGUP 100
S1 N036 UMBILICAL_gate_drive N038 0 MYSW
A1 UMBILICAL_gate_drive OUTPUT_RAIL 0 0 0 N038 0 0 SCHMITT Trise= 330n, Vhigh = 5, Vlow = 0, Vh = 100m, Vt =0.00
.model D D
.lib C:\Users\reinz\AppData\Local\LTspice\lib\cmp\standard.dio
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\reinz\AppData\Local\LTspice\lib\cmp\standard.mos
.tran 900m
* OR Gate power bypass caps
* Schmitt inverter power bypass caps
* LTC7001 power bypass caps
* POWER INPUTS & LOGIC 5V POWER CONVERTER
* SWITCHING CIRCUIT
* POWER SOURCE LOAD SWITCHES AND GATE DIRVERS
* OUTPUT RAIL
* Priority switching circuit
* Switching event sensing circuits
* Power input comparator debounce circuits
* Output rail comparator debounce circuit
* Cross conduction prevention circuit
* Back to back NMOS switches and their gate drives
* Power inputs
* 5V converter for logic circuitry
* Logic IC bypass capacitors
* Dflop power bypass caps
* AND Gate power bypass caps
* Comparator power bypass caps
.params para_L = 10p
* 30us pulse
.model MYSW SW(Vt = 2.5, Vh = 10m)
.step param cap list 480u 560u 680u
.lib ADM7170-5.0.sub
.lib LTC6993-1.sub
.lib LTC7001.sub
.lib SN74LVC1G08DBVR.sub
.lib SN74LVC1G14DBVR.sub
.lib SN74LVC1G332DBVR.sub
.lib SN74LVC2G74DCUR.sub
.lib TLV1851DBVR.sub
.backanno
.end
